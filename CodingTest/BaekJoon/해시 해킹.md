[링크](https://www.acmicpc.net/problem/26008)
# 해시 해킹
|시간 제한|메모리 제한|
|---|---|
|1초|1024MB|
## 문제
그린닷컴의 운영자 연두는 비밀번호를 평문 그대로 저장하는 과오를 뒤로하고, 이제부터 암호에 해시 함수를 적용해 저장하려고 한다. 연두가 아는 해시 함수라고는 알고리즘 문제 풀이에 많이 사용되는 롤링 해시 함수밖에 없기 때문에 이것을 응용하여 사용하기로 했다.

그린닷컴의 비밀번호 규칙은 꽤 특이한데, 길이가 정확히 
$N$이어야 하며, 비밀번호를 이루는 문자는 지정된 
$M$개의 문자 중 하나여야 한다. 따라서, 사용 가능한 각 문자를 
$0$부터 차례대로 정수에 대응시키면, 비밀번호를 길이가 
$N$이고 모든 원소가 
$0$ 이상 
$M-1$ 이하인 배열 
$P = [P_0, P_1, \dots, P_{N-1} ]$로 나타낼 수 있다.

이렇게 비밀번호를 배열 
$P$로 나타낸 후, 미리 정해진 정수 
$A$를 이용하여 다음과 같은 해시 함수 
$h$를 적용한다.

 
$h(P) = (P_0 \cdot A^0 + P_1 \cdot A^1 + ... + P_{N-1} \cdot A^{N-1}) \mod M$ 

예를 들어 배열 
$P = [10, 30, 20], A = 7, M = 55$인 경우를 생각해보자. 이 경우 
$h(P) = (10 \cdot 7^0 + 30 \cdot 7^1 + 20 \cdot 7^2) \mod 55 = (10 + 210 + 980) \mod 55 = 45$이다. 여기서 
$\bmod$는 나머지 연산으로 
$1200 = 21 \cdot 55 + 45$이므로 
$1200 \mod 55 = 45$이다. 따라서 해시값은 항상 
$0$ 이상 
$M-1$ 이하의 정수이다.

그린닷컴 관리자 계정의 비밀번호 해시값을 해킹한 재현이는, 이 해시값으로 실제 비밀번호가 뭐였는지 역추적해보려고 한다. 하지만 그린닷컴에서 사용 가능한 비밀번호는 
$M^N$개나 있고, 이 중 과연 알아낸 해시값과 일치하는 비밀번호는 몇 개나 될지 궁금해졌다. 여러분이 이것을 대신 구해주자.

## 입력
첫째 줄에 비밀번호의 길이 
$N$과 문자 종류의 개수 
$M$, 정수 
$A$가 주어진다. (
$1 \le N, M, A \le 5\,000\,000$)

둘째 줄에 재현이가 알아낸 해시값 정수 
$H$가 주어진다. (
$0 \le H < M$)

## 출력
주어진 해시값을 갖는 비밀번호의 개수를 출력한다. 출력하는 값이 너무 커질 수 있으므로, 이것을 
$1\,000\,000\,007 ( = 10^9 + 7)$로 나눈 나머지를 출력한다.

|입력 예제 1|출력 예제 1|
|---|---|
3 2 1<br>1|4|

|입력 예제 2|출력 예제 2|
|---|---|
5000000 5000000 5000000<br>1|73352076|

## 풀이
우선 수식을 살펴보고 풀이법을 생각해냈다. $h(P) = (P_0 \cdot A^0 + P_1 \cdot A^1 + ... + P_{N-1} \cdot A^{N-1}) \mod M$ 에서 유일하게 $P_0$ 만이 $A$ 값과 상관없이 존재하는 점을 알 수 있다.

그러면 이 식에서 $P_1 \cdot A^1 + ... + P_{N-1} \cdot A^{N-1}$ 이 한 가지 값만을 가질 때 $P_0$에 따라서 해시 값이 변하며 $P_0$은 $0$ 부터 $M-1$값을 가질 수 있다고 했으므로 이것을 M으로 나눈 나머지는 결론적으로 독립적인 M개의 해시 값을 지닌다.

따라서 $P_1 \cdot A^1 + ... + P_{N-1} \cdot A^{N-1}$ 이 어떤 하나의 값만을 가질 때 해시 값이 특정 값인 경우는 한 가지 뿐이다.

그럼 다시 $P_1$부터 생각해보면 $0$부터 $M-1$ 개의 값을 가질 수 있으므로 M 개의 값이 나올 수 있고, 마찬가지로 각각 $P_2$, $P_3$, ... , $P_{N-1}$은 M 개의 값을 가질 수 있으므로 $P_1$ 부터 $P_{N-1}$ 까지 경우의 수를 구해보면 $M^{N-1}$의 경우가 나온다.

그 경우의 수 중에서 특정 해시 값이 나오는 경우는 딱 한 가지 뿐이므로 $M^{N-1}$에 $10^9 + 7$을 나머지 연산하면 된다.

그런데 자바로 ```(int) Math.pow(5000000, 4999999) % 1000000007;``` 를 하면 엉뚱한 값이 나와서 화가나서 그냥 파이썬으로 풀었다.

## 코드
```python
N,M,A = map(int,input().split())
H = map(int, input())

print(pow(M,N-1,1000000007))
```

## 결과
![image](https://github.com/Goldbar97/Study/assets/100333239/1d602655-595e-4e4d-bba8-46b95a800c2e)
