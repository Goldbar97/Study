# 스프링 프로젝트 관련 기억할 것
## Entity 관련
### 엔티티에 자동으로 현재 시간 추가하기
```java
@CreatedDate
private LocalDateTime createdAt;

@LastModifiedDate
private LocalDateTime updatedAt;
```

- `JPA` 가 엔티티를 저장할 때 자동으로 시간을 넣어주도록 하려면 엔티티에 `@EntityListeners(AuditingEntityListner.class)` 작성

- 스프링 애플리케이션에 `@EnableJpaAuditing` 작성

## CustomException 관련
### HTTP 에러 메시지 커스텀 시 @Getter 넣기
```java
@Builder
@Getter
public class CustomErrorResponse {
    private int code;
    private String message;
}
```

```java
package zerobase.reservation.exception;

import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.bind.annotation.RestControllerAdvice;

@RestControllerAdvice
public class CustomExceptionHandler {
    @ExceptionHandler(CustomException.class)
    protected ResponseEntity<CustomErrorResponse> handleCustomException(
            CustomException e) {
        CustomErrorResponse response = CustomErrorResponse.builder()
                .code(e.getErrorCode().getStatus().value())
                .message(e.getErrorCode().getDetail())
                .build();
        
        return new ResponseEntity<>(
                response, e.getErrorCode().getStatus());
    }
}
```

`CustomErrorResponse` 에 `@Getter` 를 추가하지 않았더니 의도한 대로 작동되지 않았다.

`@Getter` 추가 후 의도한 대로 작동 확인

```
{
  "code": 400,
  "message": "이미 사용중인 이메일입니다."
}
```
